(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{43:function(e,t,r){Promise.resolve().then(r.bind(r,6784)),Promise.resolve().then(r.bind(r,8748)),Promise.resolve().then(r.bind(r,1681))},6784:function(e,t,r){"use strict";var c=r(7437),s=r(2265);let a=e=>{let{title:t,content:r,isOpen:s,onToggle:a}=e;return(0,c.jsxs)("div",{className:s?"accordion_content active":"accordion_content",onClick:a,children:[(0,c.jsx)("h4",{className:s?"accordion_title active":"accordion_title",children:t}),(0,c.jsx)("p",{className:"accordion_descript",children:r}),(0,c.jsx)("hr",{})]})};t.default=e=>{let{items:t}=e,[r,n]=(0,s.useState)(null),i=e=>{n(r===e?null:e)};return(0,c.jsx)("div",{className:"accordion_main",children:t.map((e,t)=>(0,c.jsx)(a,{title:e.title,content:e.content,isOpen:r===t,onToggle:()=>i(t)},t))})}},8748:function(e,t,r){"use strict";r.d(t,{default:function(){return l}});var c=r(7437),s=r(2265),a=r(8340),n=r(5532),i=r(384);function l(){let[e,t]=(0,s.useState)(4),{toggleCartItem:r,cart:l,loadCartFromLocalStorage:o,products:d,formatNumber:u}=(0,i.j)(),[h,m]=(0,s.useState)([]);return((0,s.useEffect)(()=>{m(d)},[d]),0===h.length)?(0,c.jsx)(n.Z,{}):(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("div",{className:"card_items",children:h.length>0?h.slice(0,e).map(e=>(0,c.jsx)(a.Z,{product:e},e.code)):(0,c.jsx)("div",{children:"Загрузка"})}),e<h.length&&(0,c.jsx)("div",{className:"btn",onClick:()=>{t(e=>e+4)},children:"Показать еще"})]})}},8340:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});var c=r(7437);r(2265);var s=r(384),a=r(7648);function n(e){let{product:t}=e,{toggleCartItem:r,cart:n}=(0,s.j)(),i=t&&t.src&&t.src.length>1?t.src[0]:"defaultFilename.jpg",l=()=>{r(t)};return(0,c.jsxs)(a.default,{className:"card_item",href:"/product/".concat(t.code),passHref:!0,scroll:!0,children:["defaultFilename"!==i?(0,c.jsx)("img",{src:"../img/".concat(i),alt:t.name,className:"card_img"}):(0,c.jsx)("div",{children:"Нет изображений"}),(0,c.jsx)("h3",{className:"card_title",children:t.name}),(0,c.jsxs)("p",{className:"card_arct",children:["Артикул:",t.article]}),(0,c.jsxs)("div",{className:"card_bottom",children:[(0,c.jsx)("p",{className:"card_price",children:t.price}),(0,c.jsx)("div",{className:n.some(e=>e.id===t.id)?"addCard active":"addCard",onClick:e=>{e.preventDefault(),e.stopPropagation(),l()}})]})]})}},1681:function(e,t,r){"use strict";r.d(t,{default:function(){return n}});var c=r(7437),s=r(3464),a=r(2265);function n(){let[e,t]=(0,a.useState)(""),[r,n]=(0,a.useState)(""),[i,l]=(0,a.useState)(""),o=async c=>{c.preventDefault(),l("Отправка...");try{await s.Z.post("/api/telegram",{type:"consultation",data:{name:e,phone:r}}),l("Сообщение отправлено!"),t(""),n("")}catch(e){l("Ошибка при отправке сообщения.")}};return(0,c.jsxs)("div",{className:"support_calls",children:[(0,c.jsx)("h3",{className:"support_title",children:"Нужна помощь в подборе оборудования?"}),(0,c.jsx)("p",{className:"support_text",children:"Запишитесь на консультацию. Наш специалист перезвонит вам."}),(0,c.jsxs)("form",{onSubmit:o,className:"support",children:[(0,c.jsx)("input",{type:"text",placeholder:"Ваше имя",value:e,onChange:e=>t(e.target.value),required:!0}),(0,c.jsx)("input",{onChange:e=>n(e.target.value),type:"number",value:r,name:"",id:"",placeholder:"Телефон",required:!0}),(0,c.jsx)("input",{value:"Заказать",className:"button",type:"submit"})]}),(0,c.jsx)("p",{className:"support_subtext",children:"Нажимая на кнопку \xabЗаписаться\xbb вы соглашаетесь на обработку персональных данных, получение sms и email с предложениями о новых акциях нашей компании."})]})}},384:function(e,t,r){"use strict";r.d(t,{CartProvider:function(){return i},j:function(){return n}});var c=r(7437),s=r(2265);let a=(0,s.createContext)(),n=()=>(0,s.useContext)(a),i=e=>{let{children:t}=e,[r,n]=(0,s.useState)([]),[i,l]=(0,s.useState)(0),[o,d]=(0,s.useState)(0),[u,h]=(0,s.useState)([]);(0,s.useEffect)(()=>{(async()=>{try{let e=await fetch("/bdlist.json"),t=await e.json();h(t),console.log("Полученные данные:",t)}catch(e){console.log(e)}})()},[]);let m=()=>{let e=localStorage.getItem("cart");e&&(n(JSON.parse(e)),p(JSON.parse(e)))};(0,s.useEffect)(()=>{m()},[]);let x=e=>{p(e),localStorage.setItem("cart",JSON.stringify(e))},p=e=>{let t=0,r=0;e.map(e=>{t+=e.count,r+=e.count*e.price}),l(t),d(r)};return(0,c.jsx)(a.Provider,{value:{cart:r,toggleCartItem:e=>{let t;n(t=r.some(t=>t.code===e.code)?r.filter(t=>t.code!==e.code):[...r,{...e,count:1}]),x(t)},loadCartFromLocalStorage:m,totalQuant:i,totalSum:o,formatNumber:e=>{let t=Number(String(e).replace(/\s+/g,"").slice(0,-2));return isNaN(t)?"":t.toLocaleString("ru-RU")},increment:e=>{let t=r.map(t=>t.id===e.id?{...t,count:++t.count}:t);n(t),x(t)},decrement:e=>{let t=r.map(t=>t.id===e.id&&1!==t.count?{...t,count:--t.count}:t);n(t),x(t)},products:u},children:t})}},5532:function(e,t,r){"use strict";var c=r(7437);r(2265);var s=r(1438);t.Z=e=>(0,c.jsxs)(s.ZP,{speed:2,width:"100%",height:"100%",viewBox:"0 0 317 430",backgroundColor:"#ededed",foregroundColor:"#dedede",...e,children:[(0,c.jsx)("rect",{x:"25",y:"382",rx:"8",ry:"8",width:"122",height:"10"}),(0,c.jsx)("rect",{x:"25",y:"316",rx:"9",ry:"9",width:"224",height:"18"}),(0,c.jsx)("rect",{x:"26",y:"357",rx:"5",ry:"5",width:"87",height:"9"}),(0,c.jsx)("rect",{x:"310",y:"304",rx:"0",ry:"0",width:"11",height:"0"}),(0,c.jsx)("rect",{x:"144",y:"294",rx:"0",ry:"0",width:"1",height:"0"}),(0,c.jsx)("rect",{x:"24",y:"32",rx:"5",ry:"5",width:"264",height:"265"})]})}},function(e){e.O(0,[648,716,971,117,744],function(){return e(e.s=43)}),_N_E=e.O()}]);