(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[43],{6285:function(e,t,c){Promise.resolve().then(c.bind(c,1992))},1992:function(e,t,c){"use strict";c.r(t),c.d(t,{default:function(){return u}});var a=c(7437),r=c(384),s=c(2265),l=c(8340),o=c(385),i=function(){return(i=Object.assign||function(e){for(var t,c=1,a=arguments.length;c<a;c++)for(var r in t=arguments[c])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},n=function(e){var t=e.animate,c=e.backgroundColor,a=void 0===c?"#f5f6f7":c,r=e.backgroundOpacity,l=void 0===r?1:r,o=e.baseUrl,n=void 0===o?"":o,d=e.children,h=e.foregroundColor,m=e.foregroundOpacity,u=e.gradientRatio,x=void 0===u?2:u,p=e.uniqueKey,j=e.rtl,g=e.speed,f=e.style,b=e.title,y=void 0===b?"Loading...":b,v=e.beforeMask,N=void 0===v?null:v,_=function(e,t){var c={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&0>t.indexOf(a)&&(c[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var r=0,a=Object.getOwnPropertySymbols(e);r<a.length;r++)0>t.indexOf(a[r])&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(c[a[r]]=e[a[r]]);return c}(e,["animate","backgroundColor","backgroundOpacity","baseUrl","children","foregroundColor","foregroundOpacity","gradientRatio","uniqueKey","rtl","speed","style","title","beforeMask"]),k=p||Math.random().toString(36).substring(6),E="".concat(k,"-diff"),O="".concat(k,"-animated-diff"),C="".concat(k,"-aria"),F="".concat(-1*x," 0");return(0,s.createElement)("svg",i({"aria-labelledby":C,role:"img",style:i(i({},void 0===f?{}:f),void 0!==j&&j?{transform:"scaleX(-1)"}:null)},_),y?(0,s.createElement)("title",{id:C},y):null,N&&(0,s.isValidElement)(N)?N:null,(0,s.createElement)("rect",{role:"presentation",x:"0",y:"0",width:"100%",height:"100%",clipPath:"url(".concat(n,"#").concat(E,")"),style:{fill:"url(".concat(n,"#").concat(O,")")}}),(0,s.createElement)("defs",null,(0,s.createElement)("clipPath",{id:E},d),(0,s.createElement)("linearGradient",{id:O,gradientTransform:"translate(".concat(F,")")},(0,s.createElement)("stop",{offset:"0%",stopColor:a,stopOpacity:l}),(0,s.createElement)("stop",{offset:"50%",stopColor:void 0===h?"#eee":h,stopOpacity:void 0===m?1:m}),(0,s.createElement)("stop",{offset:"100%",stopColor:a,stopOpacity:l}),(void 0===t||t)&&(0,s.createElement)("animateTransform",{attributeName:"gradientTransform",type:"translate",values:"".concat(F,"; 0 0; ").concat("".concat(x," 0")),dur:"".concat(void 0===g?1.2:g,"s"),repeatCount:"indefinite"}))))},d=function(e){return e.children?(0,s.createElement)(n,i({},e)):(0,s.createElement)(h,i({},e))},h=function(e){return(0,s.createElement)(d,i({viewBox:"0 0 476 124"},e),(0,s.createElement)("rect",{x:"48",y:"8",width:"88",height:"6",rx:"3"}),(0,s.createElement)("rect",{x:"48",y:"26",width:"52",height:"6",rx:"3"}),(0,s.createElement)("rect",{x:"0",y:"56",width:"410",height:"6",rx:"3"}),(0,s.createElement)("rect",{x:"0",y:"72",width:"380",height:"6",rx:"3"}),(0,s.createElement)("rect",{x:"0",y:"88",width:"178",height:"6",rx:"3"}),(0,s.createElement)("circle",{cx:"20",cy:"20",r:"20"}))},m=e=>(0,a.jsxs)(d,{speed:2,width:"100%",height:"100%",viewBox:"0 0 317 430",backgroundColor:"#ededed",foregroundColor:"#dedede",...e,children:[(0,a.jsx)("rect",{x:"25",y:"382",rx:"8",ry:"8",width:"122",height:"10"}),(0,a.jsx)("rect",{x:"25",y:"316",rx:"9",ry:"9",width:"224",height:"18"}),(0,a.jsx)("rect",{x:"26",y:"357",rx:"5",ry:"5",width:"87",height:"9"}),(0,a.jsx)("rect",{x:"310",y:"304",rx:"0",ry:"0",width:"11",height:"0"}),(0,a.jsx)("rect",{x:"144",y:"294",rx:"0",ry:"0",width:"1",height:"0"}),(0,a.jsx)("rect",{x:"24",y:"32",rx:"5",ry:"5",width:"264",height:"265"})]});function u(){let{products:e}=(0,r.j)(),[t,c]=(0,s.useState)([]),[i,n]=(0,s.useState)(16),[d,h]=(0,s.useState)(!0),[u,x]=(0,s.useState)({clamp:!1,filter:{Горох:!1,Мел:!1,"Свето-шумовые":!1,Акустика:!1,"Страйкбольные шары":!1,"Пейнтбольные шары":!1},mfr:{PyroFX:!1,A2:!1,GH:!1}}),[p,j]=(0,s.useState)([]),[g,f]=(0,s.useState)([]);(0,s.useEffect)(()=>{0!==p.length?f(p):f(e),console.log(g)},[p]);let b=(e=>{let t={};return Object.entries(e).forEach(e=>{let[c,a]=e;if(!0===a)t[c]=!0;else if("object"==typeof a){let e=Object.entries(a).filter(e=>{let[t,c]=e;return!0===c}).reduce((e,t)=>{let[c]=t;return e[c]=!0,e},{});Object.keys(e).length>0&&(t[c]=e)}}),t})(u);(0,s.useEffect)(()=>{if(0!==Object.keys(b).length){let t=e.filter(e=>e.attributes.every(e=>{let t=e.id,c=e.value;return!b[t]||("object"==typeof b[t]?Object.keys(b[t]).includes(c.name):c===b[t])}));j(t),console.log(t)}else j([])},[u]);let y=(e,t)=>{x(c=>"object"==typeof c[e]?{...c,[e]:{...c[e],[t]:!c[e][t]}}:{...c,[e]:!c[e]})},v=e=>{let a=[...t];switch(e){case"priceAsc":a.sort((e,t)=>t.price-e.price);break;case"priceDesc":a.sort((e,t)=>e.price-t.price)}c(a)};return(0,a.jsxs)("div",{className:"container",children:[(0,a.jsx)(o.Z,{items:[{title:"Главная",link:"/"},{title:"Каталог",link:"/catalog"}]}),(0,a.jsxs)("div",{className:"catalog",children:[(0,a.jsxs)("div",{className:"catalog_filter",children:[(0,a.jsx)("h2",{className:"catalog_title",children:"Фильтр"}),(0,a.jsx)("p",{className:"catalog_subtitle",children:"Производитель"}),(0,a.jsxs)("div",{className:"catalog_checkboxses",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("input",{className:"custom_checkbox",type:"checkbox",name:"PyroFX",id:"PyroFX",checked:u.mfr.PyroFX,onChange:()=>y(["mfr"],"PyroFX")}),(0,a.jsx)("label",{className:"catalog_text",htmlFor:"PyroFX",children:"PyroFX"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("input",{className:"custom_checkbox",type:"checkbox",name:"A2",id:"A2",checked:u.mfr.A2,onChange:()=>y(["mfr"],"A2")}),(0,a.jsx)("label",{className:"catalog_text",htmlFor:"A2",children:"A2"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("input",{className:"custom_checkbox",type:"checkbox",name:"GH",id:"GH",checked:u.mfr.GH,onChange:()=>y(["mfr"],"GH")}),(0,a.jsx)("label",{className:"catalog_text",htmlFor:"GH",children:"GH"})]})]}),(0,a.jsx)("p",{className:"catalog_subtitle",children:"Наполнитель"}),(0,a.jsxs)("div",{className:"catalog_checkboxses",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("input",{className:"custom_checkbox",type:"checkbox",name:"Горох",id:"Горох"}),(0,a.jsx)("label",{className:"catalog_text",htmlFor:"Горох",children:"Горох"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("input",{className:"custom_checkbox",type:"checkbox",name:"Акустика",id:"Акустика"}),(0,a.jsx)("label",{className:"catalog_text",htmlFor:"Акустика",children:"Акустика"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("input",{className:"custom_checkbox",type:"checkbox",name:"Мел",id:"Мел"}),(0,a.jsx)("label",{className:"catalog_text",htmlFor:"Мел",children:"Мел"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("input",{className:"custom_checkbox",type:"checkbox",name:"Свето-шумовые",id:"Свето-шумовые"}),(0,a.jsx)("label",{className:"catalog_text",htmlFor:"PyroFX",children:"Свето-шумовые"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("input",{className:"custom_checkbox",type:"checkbox",name:"Страйкбольные шары",id:"Страйкбольные шары"}),(0,a.jsx)("label",{className:"catalog_text",htmlFor:"Страйкбольные шары",children:"Страйкбольные шары"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("input",{className:"custom_checkbox",type:"checkbox",name:"Пейнтбольные шары",id:"Пейнтбольные шары"}),(0,a.jsx)("label",{className:"catalog_text",htmlFor:"PyroFX",children:"Пейнтбольные шары"})]})]}),(0,a.jsx)("p",{className:"catalog_subtitle",children:"Мощность"}),(0,a.jsxs)("div",{className:"catalog_checkboxses",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("input",{className:"custom_checkbox",type:"checkbox",name:"PyroFX",id:"4corsar"}),(0,a.jsx)("label",{className:"catalog_text",htmlFor:"4corsar",children:"4 корсар"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("input",{className:"custom_checkbox",type:"checkbox",name:"PyroFX",id:"6corsar"}),(0,a.jsx)("label",{className:"catalog_text",htmlFor:"6corsar",children:"6 корсар"})]})]}),(0,a.jsxs)("div",{className:"single_checkbox",children:[(0,a.jsx)("input",{className:"custom_checkbox",type:"checkbox",name:"activeSkoba",id:"skoba",checked:u.clamp,onChange:()=>y("clamp")}),(0,a.jsx)("label",{className:"catalog_text",htmlFor:"skoba",children:"Активная скоба"})]})]}),(0,a.jsxs)("div",{className:"catalog_cards",children:[(0,a.jsx)("div",{className:"catalog_sort_right",children:(0,a.jsxs)("select",{className:"catalog_sort",onChange:e=>v(e.target.value),children:[(0,a.jsx)("option",{className:"catalog_sort_option",value:"popularity",children:"Сначала популярные"}),(0,a.jsx)("option",{className:"catalog_sort_option",value:"priceDesc",children:"Сначала дешевле"}),(0,a.jsx)("option",{className:"catalog_sort_option",value:"priceAsc",children:"Сначала дороже"})]})}),(0,a.jsx)("div",{className:"card_items",children:d?Array.from({length:6}).map((e,t)=>(0,a.jsx)(m,{},t)):g.slice(0,i).map(e=>(0,a.jsx)(l.Z,{product:e},e.id))}),i<t.length&&(0,a.jsx)("div",{className:"btn",onClick:()=>{n(e=>e+8)},children:"Показать еще"})]})]})]})}},385:function(e,t,c){"use strict";var a=c(7437),r=c(7648);t.Z=e=>{let{items:t}=e;return(0,a.jsxs)("nav",{"aria-label":"Breadcrumb",children:[(0,a.jsx)("div",{}),(0,a.jsx)("ol",{className:"breadcrumb",children:t.map((e,t)=>(0,a.jsx)("li",{className:"breadcrumb_text",children:e.link?(0,a.jsx)(r.default,{href:e.link,children:e.title}):(0,a.jsx)("span",{"aria-current":"page",children:e.title})},t))})]})}},8340:function(e,t,c){"use strict";c.d(t,{Z:function(){return l}});var a=c(7437);c(2265);var r=c(384),s=c(7648);function l(e){let{product:t}=e,{toggleCartItem:c,cart:l}=(0,r.j)(),o=t&&t.src&&t.src.length>1?t.src[0]:"defaultFilename.jpg",i=()=>{c(t)};return(0,a.jsxs)(s.default,{className:"card_item",href:"/product/".concat(t.code),passHref:!0,scroll:!0,children:["defaultFilename"!==o?(0,a.jsx)("img",{src:"../img/".concat(o),alt:t.name,className:"card_img"}):(0,a.jsx)("div",{children:"Нет изображений"}),(0,a.jsx)("h3",{className:"card_title",children:t.name}),(0,a.jsxs)("p",{className:"card_arct",children:["Артикул:",t.article]}),(0,a.jsxs)("div",{className:"card_bottom",children:[(0,a.jsx)("p",{className:"card_price",children:t.price}),(0,a.jsx)("div",{className:l.some(e=>e.id===t.id)?"addCard active":"addCard",onClick:e=>{e.preventDefault(),e.stopPropagation(),i()}})]})]})}},384:function(e,t,c){"use strict";c.d(t,{CartProvider:function(){return o},j:function(){return l}});var a=c(7437),r=c(2265);let s=(0,r.createContext)(),l=()=>(0,r.useContext)(s),o=e=>{let{children:t}=e,[c,l]=(0,r.useState)([]),[o,i]=(0,r.useState)(0),[n,d]=(0,r.useState)(0),[h,m]=(0,r.useState)([]);(0,r.useEffect)(()=>{(async()=>{try{let e=await fetch("/bdlist.json"),t=await e.json();m(t),console.log("Полученные данные:",t)}catch(e){console.log(e)}})()},[]);let u=()=>{let e=localStorage.getItem("cart");e&&(l(JSON.parse(e)),p(JSON.parse(e)))};(0,r.useEffect)(()=>{u()},[]);let x=e=>{p(e),localStorage.setItem("cart",JSON.stringify(e))},p=e=>{let t=0,c=0;e.map(e=>{t+=e.count,c+=e.count*e.price}),i(t),d(c)};return(0,a.jsx)(s.Provider,{value:{cart:c,toggleCartItem:e=>{let t;l(t=c.some(t=>t.code===e.code)?c.filter(t=>t.code!==e.code):[...c,{...e,count:1}]),x(t)},loadCartFromLocalStorage:u,totalQuant:o,totalSum:n,formatNumber:e=>{let t=Number(String(e).replace(/\s+/g,"").slice(0,-2));return isNaN(t)?"":t.toLocaleString("ru-RU")},increment:e=>{let t=c.map(t=>t.id===e.id?{...t,count:++t.count}:t);l(t),x(t)},decrement:e=>{let t=c.map(t=>t.id===e.id&&1!==t.count?{...t,count:--t.count}:t);l(t),x(t)},products:h},children:t})}}},function(e){e.O(0,[648,971,117,744],function(){return e(e.s=6285)}),_N_E=e.O()}]);