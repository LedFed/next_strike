(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{6051:function(e,t,s){Promise.resolve().then(s.bind(s,8646))},8340:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});var a=s(7437);s(2265);var c=s(384),i=s(7648);function r(e){let{product:t}=e,{toggleCartItem:s,formatNumber:r,cart:n}=(0,c.j)(),l=t&&t.images&&t.images.rows&&t.images.rows.length>1?t.images.rows[0].filename:"defaultFilename",o=()=>{s(t)};return(0,a.jsxs)(i.default,{className:"card_item",href:"/product/".concat(t.code),passHref:!0,scroll:!0,children:[(0,a.jsx)("img",{src:"../img/".concat(l),alt:t.name,className:"card_img"}),(0,a.jsx)("h3",{className:"card_title",children:t.name}),(0,a.jsxs)("p",{className:"card_arct",children:["Артикул:",t.article]}),(0,a.jsxs)("div",{className:"card_bottom",children:[(0,a.jsx)("p",{className:"card_price",children:r(t.salePrices[0].value)}),(0,a.jsx)("div",{className:n.some(e=>e.id===t.id)?"addCard active":"addCard",onClick:e=>{e.preventDefault(),e.stopPropagation(),o()}})]})]})}},384:function(e,t,s){"use strict";s.d(t,{CartProvider:function(){return n},j:function(){return r}});var a=s(7437),c=s(2265);let i=(0,c.createContext)(),r=()=>(0,c.useContext)(i),n=e=>{let{children:t}=e,[s,r]=(0,c.useState)([]),[n,l]=(0,c.useState)(0),[o,d]=(0,c.useState)(0),[u,m]=(0,c.useState)([]);async function h(){try{let e=await fetch("/api/products",{headers:{Authorization:"Bearer 04c229acda627c250062de4c2a82b1bc3c9293d5","Accept-Encoding":"gzip"}});if(!e.ok)throw Error("HTTP error! status: ".concat(e.status));let t=await e.json();console.log("вывод"+t+"вывод"),m(t.rows),console.log("вроде успех"+u)}catch(e){console.log("Ошибка получение в контекст"+e)}}let g=()=>{let e=localStorage.getItem("cart");e&&(r(JSON.parse(e)),p(JSON.parse(e)))};(0,c.useEffect)(()=>{g(),h()},[]);let x=e=>{p(e),localStorage.setItem("cart",JSON.stringify(e))},p=e=>{let t=0,s=0;e.map(e=>{t+=e.count,s+=e.count*e.salePrices[0].value}),l(t),d(s)};return(0,a.jsx)(i.Provider,{value:{cart:s,toggleCartItem:e=>{let t;r(t=s.some(t=>t.code===e.code)?s.filter(t=>t.code!==e.code):[...s,{...e,count:1}]),x(t)},loadCartFromLocalStorage:g,totalQuant:n,totalSum:o,formatNumber:e=>{let t=Number(String(e).replace(/\s+/g,"").slice(0,-2));return isNaN(t)?"":t.toLocaleString("ru-RU")},increment:e=>{let t=s.map(t=>t.id===e.id?{...t,count:++t.count}:t);r(t),x(t)},decrement:e=>{let t=s.map(t=>t.id===e.id&&1!==t.count?{...t,count:--t.count}:t);r(t),x(t)},products:u},children:t})}},5532:function(e,t,s){"use strict";var a=s(7437);s(2265);var c=s(1438);t.Z=e=>(0,a.jsxs)(c.ZP,{speed:2,width:"100%",height:"100%",viewBox:"0 0 317 430",backgroundColor:"#ededed",foregroundColor:"#dedede",...e,children:[(0,a.jsx)("rect",{x:"25",y:"382",rx:"8",ry:"8",width:"122",height:"10"}),(0,a.jsx)("rect",{x:"25",y:"316",rx:"9",ry:"9",width:"224",height:"18"}),(0,a.jsx)("rect",{x:"26",y:"357",rx:"5",ry:"5",width:"87",height:"9"}),(0,a.jsx)("rect",{x:"310",y:"304",rx:"0",ry:"0",width:"11",height:"0"}),(0,a.jsx)("rect",{x:"144",y:"294",rx:"0",ry:"0",width:"1",height:"0"}),(0,a.jsx)("rect",{x:"24",y:"32",rx:"5",ry:"5",width:"264",height:"265"})]})},8646:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return x}});var a=s(7437),c=s(2265),i=s(8340),r=s(384),n=s(5532);function l(){let[e,t]=(0,c.useState)([]),[s,l]=(0,c.useState)(4),{toggleCartItem:o,cart:d,loadCartFromLocalStorage:u,products:m,formatNumber:h}=(0,r.j)(),g=()=>{window.scrollTo({top:0,behavior:"smooth"})},x=async()=>{try{let e=await fetch("/api/products");return(await e.json()).rows}catch(e){console.log(e)}};return(0,c.useEffect)(()=>{(async()=>{t(await x())})()},[]),(0,c.useEffect)(()=>{console.log(m),console.log(m.length)},[m]),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"card_items",children:!e.length>0?Array.from({length:6}).map((e,t)=>(0,a.jsx)(n.Z,{},t)):e.slice(0,s).map(e=>(0,a.jsx)(i.Z,{onClick:g,product:e},e.code))}),s<e.length&&(0,a.jsx)("div",{className:"btn",onClick:()=>{l(e=>e+4)},children:"Показать еще"})]})}var o=s(7648);function d(){return(0,a.jsx)("div",{className:"category_items",children:[{title:"Гранаты",active:!0,links:"./icons/free-icon-grenade-1281087.svg"},{title:"Дым",active:!0,links:"./icons/free-icon-grenade-2514237.svg"},{title:"Растяжки-мины",active:!0,links:"./icons/free-icon-grenade-13091752.svg"},{title:"Пульты",active:!0,links:"./icons/free-icon-remote-16276269.svg"},{title:"Обмундирования",active:!1,links:"./icons/free-icon-paintball-1099542.svg"},{title:"Пульки",active:!1,links:"./icons/free-icon-paintball-588794_1.svg"},{title:"Автоматы/Пистолеты",active:!1,links:"./icons/icons8-оружие-для-пейнтбола-50.svg"}].map((e,t)=>e.active?(0,a.jsxs)(o.default,{className:e.active?"category_item":"category_item active",href:"/category/".concat(e.title),children:[(0,a.jsx)("div",{className:"category_img_theme",children:(0,a.jsx)("img",{src:e.links,alt:e.title,className:"category_icon"})}),(0,a.jsx)("p",{className:"category_title",children:e.title})]},t):null)})}var u=s(3464);function m(){let[e,t]=(0,c.useState)(""),[s,i]=(0,c.useState)(""),[r,n]=(0,c.useState)(""),l=async a=>{a.preventDefault(),n("Отправка...");try{await u.Z.post("/api/telegram",{type:"consultation",data:{name:e,phone:s}}),n("Сообщение отправлено!"),t(""),i("")}catch(e){n("Ошибка при отправке сообщения.")}};return(0,a.jsxs)("div",{className:"support_calls",children:[(0,a.jsx)("h3",{className:"support_title",children:"Нужна помощь в подборе оборудования?"}),(0,a.jsx)("p",{className:"support_text",children:"Запишитесь на консультацию. Наш специалист перезвонит вам."}),(0,a.jsxs)("form",{onSubmit:l,className:"support",children:[(0,a.jsx)("input",{type:"text",placeholder:"Ваше имя",value:e,onChange:e=>t(e.target.value),required:!0}),(0,a.jsx)("input",{onChange:e=>i(e.target.value),type:"number",value:s,name:"",id:"",placeholder:"Телефон",required:!0}),(0,a.jsx)("input",{value:"Заказать",className:"button",type:"submit"})]}),(0,a.jsx)("p",{className:"support_subtext",children:"Нажимая на кнопку \xabЗаписаться\xbb вы соглашаетесь на обработку персональных данных, получение sms и email с предложениями о новых акциях нашей компании."})]})}s(6406);let h=e=>{let{title:t,content:s,isOpen:c,onToggle:i}=e;return(0,a.jsxs)("div",{className:c?"accordion_content active":"accordion_content",onClick:i,children:[(0,a.jsx)("h4",{className:c?"accordion_title active":"accordion_title",children:t}),(0,a.jsx)("p",{className:"accordion_descript",children:s}),(0,a.jsx)("hr",{})]})};var g=e=>{let{items:t}=e,[s,i]=(0,c.useState)(null),r=e=>{i(s===e?null:e)};return(0,a.jsx)("div",{className:"accordion_main",children:t.map((e,t)=>(0,a.jsx)(h,{title:e.title,content:e.content,isOpen:s===t,onToggle:()=>r(t)},t))})};function x(){return(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("div",{className:"container",children:[(0,a.jsxs)("div",{className:"banner",children:[(0,a.jsx)("img",{src:"./img/baner.png",alt:""}),(0,a.jsx)("h1",{className:"main_title",children:"Самые низкие цены"})]}),(0,a.jsx)("h2",{className:"title",children:"Категории товаров"}),(0,a.jsx)(d,{}),(0,a.jsx)("h2",{className:"title",children:"Популярные товары"}),(0,a.jsx)(l,{}),(0,a.jsx)(m,{}),(0,a.jsx)("h2",{className:"title center",children:"FaQ"}),(0,a.jsx)(g,{items:[{title:"Как сделать заказ? ",content:'Перейдите в каталог товаров и выберите интересующий вас продукт > Нажмите кнопку "Добавить в корзину" > Перейдите в корзину, проверьте выбранные товары и нажмите "Оформить заказ" > Дальше наш менджер свяжеться с вами ватсап или телеграм'},{title:"Как проходит оплата?",content:"После того как вы выбрали товар, с вами свяжеться наш мендежер. Мы принимаем оплату по системе СБП, также возможна оплата по расчетному счету"},{title:"Как происходит доставка ?",content:"После оплаты заказа мы собираем и упаковываем ваши товары. Заказ передается в службу доставки, которая осуществляет его транспортировку. Вы получите трек-номер для отслеживания статуса доставки вашего заказа."},{title:"Какие сроки доставки?",content:"Стоимость доставки и ее время зависит от вашего местоположение и габаритов поссылки Обычно занимает от 3 до 7 рабочих дней. Точные сроки доставки можно уточнить на этапе оформления заказа или связавшись с нашей службой поддержки в Telegram или watshap"}]})]})})}}},function(e){e.O(0,[648,317,971,117,744],function(){return e(e.s=6051)}),_N_E=e.O()}]);